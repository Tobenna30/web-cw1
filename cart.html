<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shopping Cart</title>
  <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script>
</head>
<body>
  <div id="app">
    <div>
      <h1>Shopping Cart</h1>
      <div v-if="cart.length === 0">No items in the cart</div>
      <div v-for="cartItem in cart" :key="cartItem.id">
        <div class="cart-item">
          <p>Subject: {{ cartItem.subject }}</p>
          <p>Location: {{ cartItem.location }}</p>
          <p>Price: ${{ cartItem.price }}</p>
          <button @click="removeFromCart(cartItem)">Remove from Cart</button>
        </div>
      </div>
      <input v-model="name" placeholder="Name">
      <input v-model="phone" placeholder="Phone Number">
      <button @click="checkout" :disabled="!validInput">Checkout</button>
      <p v-if="orderSubmitted">Order has been submitted!</p>
    </div>
  </div>

  <script>
    new Vue({
      el: '#app',
      data: {
        cart: [],
        name: '',
        phone: '',
        orderSubmitted: false
      },
      mounted() {
        this.cart = JSON.parse(localStorage.getItem('cart')) || [];
      },
      computed: {
        validInput() {
          return /^[A-Za-z\s]+$/.test(this.name) && /^\d+$/.test(this.phone);
        }
      },
      methods: {
        removeFromCart(cartItem) {
          this.cart = this.cart.filter(item => item !== cartItem);
          localStorage.setItem('cart', JSON.stringify(this.cart));

          // Add removed item back to the lessons
          const availableLessons = JSON.parse(localStorage.getItem('lessons')) || [];
          availableLessons.push(cartItem);
          localStorage.setItem('lessons', JSON.stringify(availableLessons));
          this.cart = JSON.parse(localStorage.getItem('cart')) || [];
        },
        checkout() {
          if (this.validInput) {
            // Submit order (You can add logic here to send orders to a server, etc.)
            this.orderSubmitted = true;
          }
        }
      }
    });
  </script>

  <style>
    .cart-item {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px 0;
    }
  </style>
</body>
</html>
